<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

    <f:if condition="{file.extension} == gif">
        <f:then>
            <img src="{f:uri.image(src:'{file.uid}', treatIdAsReference:'1', cropVariant: 'default', height: '{dimensions.height}', maxHeight: '{data.imageheight}', width: '{dimensions.width}px', maxWidth: '{data.imagewidth}')}"
            width="{f:if(condition: '{data.imagewidth}', then: '{data.imagewidth}px', else: '{dimensions.width}px')}"
            height="{f:if(condition: '{data.imageheight}', then: '{data.imageheight}px', else: '{dimensions.height}px')}"
			title="{f:if(condition: '{file.title}', then: '{file.title}')}"
            alt="{f:if(condition: '{file.alternative}', then: '{file.alternative}', else: '')}"
            />
        </f:then>
        <f:else>
            <picture>
                <source srcset="{f:uri.image(src:'{file.uid}', treatIdAsReference:'1', cropVariant: 'default', maxHeight: '{data.imageheight}', width: '{dimensions.width}', maxWidth: '2500')}" media="(min-width: 1601px)">
                <source srcset="{f:uri.image(src:'{file.uid}', treatIdAsReference:'1', cropVariant: 'default', maxHeight: '{data.imageheight}', width: '{dimensions.width}', maxWidth: '1600')}" media="(min-width: 1025px)">
                <source srcset="{f:uri.image(src:'{file.uid}', treatIdAsReference:'1', cropVariant: 'tablet', maxHeight: '{data.imageheight}', width: '{dimensions.width}', maxWidth: '1024')}" media="(min-width: 641px)">
                <source srcset="{f:uri.image(src:'{file.uid}', treatIdAsReference:'1', cropVariant: 'mobile', maxHeight: '{data.imageheight}', width: '{dimensions.width}', maxWidth: '640')}" media="(min-width: 200px)">
                <f:if condition="{file.extension} == 'pdf'">
                    <f:then>
                        <f:media class="image-embed-item" file="{file}" width="{dimensions.width}px" height="{dimensions.height}px" alt="{file.alternative}" title="{file.title}" />
                    </f:then>
                    <f:else>
                        <img src="{f:uri.image(src:'{file.uid}', treatIdAsReference:'1', cropVariant: 'default', height: '{dimensions.height}', maxHeight: '{data.imageheight}', width: '{dimensions.width}', maxWidth: '{data.imagewidth}')}"
                        	width="{f:if(condition: '{data.imagewidth}', then: '{data.imagewidth}px', else: '{dimensions.width}px')}"
                        	height="{f:if(condition: '{data.imageheight}', then: '{data.imageheight}px', else: '{dimensions.height}px')}"
                        	title="{f:if(condition: '{file.title}', then: '{file.title}')}"
							alt="{f:if(condition: '{file.alternative}', then: '{file.alternative}', else: '')}"
                        />
                    </f:else>
                </f:if>
            </picture>
        </f:else>
    </f:if>

</html>